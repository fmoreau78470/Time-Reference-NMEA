{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Accueil - Time Reference NMEA","text":"<p>Bienvenue dans la documentation officielle du projet Time Reference NMEA.</p> <p>Ce projet a pour but de transformer un ordinateur standard sous Windows en un Serveur de Temps de haute pr\u00e9cision (Stratum 1), capable de discipliner son horloge interne avec une pr\u00e9cision de l'ordre de la milliseconde, sans d\u00e9pendre d'une connexion Internet.</p> <p>Il a \u00e9t\u00e9 sp\u00e9cifiquement cr\u00e9\u00e9 pour r\u00e9pondre aux besoins d'horodatage pr\u00e9cis d'acquisitions n\u00e9cessaires \u00e0 la r\u00e9alisation de courbes de lumi\u00e8re pour l'observation d'occultations, particuli\u00e8rement en situation de mobilit\u00e9 o\u00f9 aucune connexion Internet n'est disponible.</p>"},{"location":"index.html#pourquoi-ce-projet","title":"\ud83c\udfaf Pourquoi ce projet ?","text":"<p>Dans un monde connect\u00e9, l'heure est g\u00e9n\u00e9ralement fournie par des serveurs NTP sur Internet (Stratum 2 ou 3). Bien que suffisant pour un usage bureautique, ce syst\u00e8me pr\u00e9sente des limites :</p> <ul> <li>Latence r\u00e9seau variable : Le temps de trajet des paquets sur Internet fluctue (Jitter), d\u00e9gradant la pr\u00e9cision.</li> <li>D\u00e9pendance : Sans Internet, l'horloge d\u00e9rive rapidement.</li> <li>S\u00e9curit\u00e9 : D\u00e9pendance \u00e0 des tiers.</li> </ul> <p>Time Reference NMEA r\u00e9sout ces probl\u00e8mes en utilisant une source mat\u00e9rielle locale : un r\u00e9cepteur GPS/GNSS.</p>"},{"location":"index.html#les-avantages","title":"Les avantages","text":"<ul> <li>Pr\u00e9cision Stratum 1 : Votre PC est directement reli\u00e9 \u00e0 la source atomique des satellites GPS.</li> <li>Autonomie : Fonctionne parfaitement en mode \"Terrain\" (Offline).</li> <li>Stabilit\u00e9 : Utilisation du signal PPS (Pulse Per Second) pour une synchronisation ultra-pr\u00e9cise.</li> </ul>"},{"location":"index.html#fonctionnement-global","title":"\ud83d\ude80 Fonctionnement global","text":"<p>Le syst\u00e8me repose sur la synergie entre trois composants :</p> <ol> <li>Le Mat\u00e9riel (Hardware) : Un module GPS (type u-blox) coupl\u00e9 \u00e0 un microcontr\u00f4leur (RP2040) qui convertit les signaux satellites en un flux de donn\u00e9es compr\u00e9hensible par l'ordinateur via USB.</li> <li>Le Service NTP (Meinberg) : Le standard industriel pour la gestion du temps sous Windows. Il discipline l'horloge syst\u00e8me en arri\u00e8re-plan.</li> <li>L'Application de Contr\u00f4le (Ce logiciel) : Une interface graphique moderne pour :<ul> <li>Configurer le service NTP sans ligne de commande.</li> <li>Visualiser la r\u00e9ception GPS et la qualit\u00e9 du signal.</li> <li>Calibrer automatiquement les d\u00e9lais de transmission (Fudge).</li> <li>Surveiller la sant\u00e9 de votre serveur de temps.</li> </ul> </li> </ol>"},{"location":"index.html#les-grandes-etapes-de-mise-en-uvre","title":"\ud83d\udee0\ufe0f Les grandes \u00e9tapes de mise en \u0153uvre","text":"<ol> <li>Assemblage du Mat\u00e9riel : Connexion du module GPS au RP2040 et flashage du firmware \"Stratum 0\".</li> <li>Installation Logicielle : Installation du service NTP Meinberg et de l'application Time Reference NMEA.</li> <li>Calibration : Calcul de la latence (Fudge) pour aligner parfaitement l'heure GPS avec la r\u00e9alit\u00e9.</li> <li>Mise en Production : Le syst\u00e8me tourne en autonomie et maintient l'heure pr\u00e9cise.</li> </ol>"},{"location":"index.html#organisation-de-la-documentation","title":"\ud83d\udcda Organisation de la documentation","text":"<ul> <li>Th\u00e9orie NTP : Comprendre les concepts de base (Stratum, Jitter, Offset).</li> <li>Guide Mat\u00e9riel : Liste des composants et instructions d'assemblage.</li> <li>Manuel Logiciel : Installation, configuration et utilisation de l'application.</li> <li>FAQ &amp; D\u00e9pannage : Solutions aux probl\u00e8mes courants.</li> </ul>"},{"location":"faq.html","title":"FAQ &amp; D\u00e9pannage","text":""},{"location":"faq.html#mon-gps-ne-fixe-pas-pas-de-led-clignotante","title":"Mon GPS ne fixe pas (Pas de LED clignotante)","text":"<ul> <li>Assurez-vous d'\u00eatre \u00e0 l'ext\u00e9rieur ou pr\u00e8s d'une fen\u00eatre.</li> <li>V\u00e9rifiez l'alimentation du module (la LED Power doit \u00eatre allum\u00e9e).</li> </ul>"},{"location":"faq.html#lapplication-indique-port-com-introuvable","title":"L'application indique \"Port COM introuvable\"","text":"<ul> <li>V\u00e9rifiez que le RP2040 est bien branch\u00e9.</li> <li>V\u00e9rifiez dans le Gestionnaire de P\u00e9riph\u00e9riques qu'il n'y a pas d'erreur de pilote.</li> </ul>"},{"location":"faq.html#pourquoi-faut-il-les-droits-administrateur","title":"Pourquoi faut-il les droits administrateur ?","text":"<p>L'application doit arr\u00eater et red\u00e9marrer le service Windows Time (W32Time) ou NTPD pour appliquer les corrections de pr\u00e9cision.</p>"},{"location":"logiciel.html","title":"Manuel Logiciel","text":"<p>Ce guide d\u00e9taille l'installation, la configuration et l'utilisation de l'application Time Reference NMEA.</p> <p>!!! \"\u26a0\ufe0f Pr\u00e9requis Absolu : NTP by Meinberg\"     Ce logiciel ne fonctionne PAS avec le service de temps Windows standard (W32Time).</p> <pre><code>Pour atteindre une pr\u00e9cision de l'ordre de la milliseconde (Stratum 1), vous **DEVEZ** installer le service NTP officiel maintenu par Meinberg.\n\n1.  T\u00e9l\u00e9chargez l'installateur **\"NTP for Windows\"** sur le site officiel : [https://www.meinbergglobal.com/english/sw/ntp.htm](https://www.meinbergglobal.com/english/sw/ntp.htm)\n2.  Durant l'installation, conservez les options par d\u00e9faut.\n3.  Une fois install\u00e9, le service \"Network Time Protocol Daemon\" sera actif sur votre machine.\n\n**Pourquoi ?** W32Time est con\u00e7u pour la synchronisation de domaine (Kerberos) avec une tol\u00e9rance de 5 minutes. Meinberg NTP utilise des algorithmes complexes pour discipliner l'horloge avec une pr\u00e9cision microseconde et g\u00e9rer les sources mat\u00e9rielles comme notre GPS.\n</code></pre>"},{"location":"logiciel.html#1-installation-de-lapplication","title":"1. Installation de l'Application","text":"<ol> <li>Rendez-vous dans la section Releases du projet GitHub.</li> <li>T\u00e9l\u00e9chargez le dernier installateur : <code>TimeReferenceNMEA_Setup_vX.Y.Z.exe</code>.</li> <li>Lancez l'installation (des droits administrateur seront demand\u00e9s pour pouvoir g\u00e9rer le service NTP).</li> <li>Une ic\u00f4ne est cr\u00e9\u00e9e sur votre bureau.</li> </ol>"},{"location":"logiciel.html#2-premier-demarrage-configuration","title":"2. Premier D\u00e9marrage &amp; Configuration","text":"<p>Au lancement, l'application v\u00e9rifie la pr\u00e9sence du service NTP. Si le service est arr\u00eat\u00e9, elle tentera de le d\u00e9marrer.</p>"},{"location":"logiciel.html#configuration-initiale","title":"Configuration Initiale","text":"<ol> <li>Cliquez sur le bouton Param\u00e8tres (ic\u00f4ne d'engrenage).</li> <li>Port S\u00e9rie : Indiquez le port COM de votre RP2040 (ex: <code>COM3</code>). Vous pouvez le trouver dans le Gestionnaire de P\u00e9riph\u00e9riques Windows sous \"Ports (COM &amp; LPT)\".</li> <li>Vitesse : Laissez <code>9600</code> (sauf si vous avez modifi\u00e9 le firmware du RP2040).</li> <li>Chemin ntp.conf : Indiquez l'emplacement du fichier de configuration du service NTP (g\u00e9n\u00e9ralement <code>C:\\Program Files (x86)\\NTP\\etc\\ntp.conf</code>).</li> <li>Compensation (Fudge) : Valeur par d\u00e9faut <code>0.000</code>. C'est le d\u00e9lai mat\u00e9riel (Time2) qui sera affin\u00e9 automatiquement lors de la calibration, mais que vous pouvez ajuster manuellement ici.</li> <li>Cliquez sur Enregistrer.<ul> <li>L'application va g\u00e9n\u00e9rer un fichier <code>ntp.conf</code> optimis\u00e9 pour votre mat\u00e9riel.</li> <li>Elle va red\u00e9marrer le service NTP pour appliquer les changements.</li> </ul> </li> </ol>"},{"location":"logiciel.html#3-interface-principale","title":"3. Interface Principale","text":"<p>L'interface est con\u00e7ue pour surveiller la pr\u00e9cision en un coup d'\u0153il.</p>"},{"location":"logiciel.html#a-zone-horloges","title":"A. Zone Horloges","text":"<ul> <li>Syst\u00e8me : L'heure actuelle de votre PC.</li> <li>GPS : L'heure re\u00e7ue du satellite (via le port s\u00e9rie).</li> <li>Indicateurs :<ul> <li>Offset : L'\u00e9cart entre votre PC et la r\u00e9f\u00e9rence. Doit \u00eatre proche de 0 ms.</li> <li>Jitter : La stabilit\u00e9 du signal. Plus c'est bas, mieux c'est.</li> </ul> </li> </ul>"},{"location":"logiciel.html#b-indicateur-de-sante","title":"B. Indicateur de Sant\u00e9","text":"<p>Un score de 0 \u00e0 100% calcul\u00e9 en temps r\u00e9el par un algorithme de surveillance : *   \ud83d\udfe2 Vert (&gt; 90%) : Syst\u00e8me stable, pr\u00e9cision optimale. *   \ud83d\udfe0 Orange (50-90%) : En cours de stabilisation ou perturbations l\u00e9g\u00e8res. *   \ud83d\udd34 Rouge (&lt; 50%) : Probl\u00e8me critique (GPS d\u00e9branch\u00e9, pas de satellites, service arr\u00eat\u00e9).</p>"},{"location":"logiciel.html#c-liste-des-sources","title":"C. Liste des sources","text":"<p>Affiche les sources de temps utilis\u00e9es par NTP (commande <code>ntpq -p</code>). *   <code>*</code> (Ast\u00e9risque) : La source actuelle de synchronisation (devrait \u00eatre votre GPS <code>127.127.20.x</code>). *   <code>+</code> (Plus) : Sources candidates (Internet) pr\u00eates \u00e0 prendre le relais. *   <code>x</code> (Croix) : Sources rejet\u00e9es (trop d'\u00e9cart ou instables).</p>"},{"location":"logiciel.html#4-calibration","title":"4. Calibration","text":"<p>La compensation est le d\u00e9lai de transmission mat\u00e9riel (c\u00e2ble USB, traitement s\u00e9rie). Il faut le compenser pour \u00eatre parfaitement \u00e0 l'heure. Cliquez sur Calibration pour lancer l'assistant.</p> <p>!!! info \"Quand calibrer ?\"     Cette op\u00e9ration doit \u00eatre effectu\u00e9e une seule fois pour tout nouvel assemblage (PC - C\u00e2ble USB - GPS). La compensation est sauvegard\u00e9e.     Il est pr\u00e9f\u00e9rable de faire la calibration sur un r\u00e9seau stable de type Fibre plut\u00f4t que sur un r\u00e9seau mobile (3G/4G/5G).</p> <p>L'application compare votre GPS avec des serveurs de temps Internet (Stratum 1/2) pendant une p\u00e9riode donn\u00e9e. 1.  L'assistant coupe la priorit\u00e9 du GPS. 2.  Il laisse le PC se caler sur Internet (r\u00e9f\u00e9rence fiable). 3.  Il mesure l'\u00e9cart moyen du GPS par rapport \u00e0 cette r\u00e9f\u00e9rence. 4.  Il calcule et applique la correction id\u00e9ale.</p>"},{"location":"logiciel.html#5-outils-avances","title":"5. Outils Avanc\u00e9s","text":"<ul> <li>Qualit\u00e9 Signal (IQT) : Analyse la puissance (SNR) et la g\u00e9om\u00e9trie (HDOP) des satellites.<ul> <li>Note : Cette fonction n\u00e9cessite l'arr\u00eat temporaire de NTP pour acc\u00e9der directement au port s\u00e9rie.</li> </ul> </li> <li>Logs : Historique des \u00e9v\u00e9nements pour le d\u00e9pannage.</li> </ul>"},{"location":"logiciel.html#6-mode-mini-widget","title":"6. Mode Mini (Widget)","text":"<p>Pour surveiller votre serveur de temps sans encombrer l'\u00e9cran : 1.  Cliquez sur le bouton Mode Mini ou double-cliquer sur l'afficheur 2.  L'application devient une petite fen\u00eatre transparente qui reste au premier plan (\"Always on top\"). 3.  Double-cliquez dessus pour revenir au mode normal.</p>"},{"location":"materiel.html","title":"Guide Mat\u00e9riel &amp; Assemblage","text":"<p>Ce guide d\u00e9taille les composants n\u00e9cessaires et les \u00e9tapes d'assemblage pour construire votre r\u00e9cepteur GPS Stratum 0.</p>"},{"location":"materiel.html#1-approvisionnement-des-composants","title":"1. Approvisionnement des Composants","text":"<p>Le projet est con\u00e7u pour \u00eatre accessible et peu co\u00fbteux. Voici la liste des composants recommand\u00e9s :</p> Composant Mod\u00e8le Recommand\u00e9 R\u00f4le Microcontr\u00f4leur Waveshare RP2040-Zero Interface USB et traitement du signal. Choisi pour sa taille compacte et sa compatibilit\u00e9 Arduino. Module GPS u-blox NEO-6M ou NEO-8M R\u00e9ception satellite. Souvent vendu sous la r\u00e9f\u00e9rence <code>GY-GPS6MV2</code> ou <code>GY-NEO6MV2</code>. C\u00e2blage Fils Dupont (Femelle-Femelle) Connexion rapide sans soudure pour le prototypage. C\u00e2ble USB USB Type-C (Data) Liaison vers le PC. Assurez-vous qu'il transmet bien les donn\u00e9es (pas seulement la charge)."},{"location":"materiel.html#2-cablage-inter-modules","title":"2. C\u00e2blage Inter-modules","text":"<p>Le montage relie le module GPS au microcontr\u00f4leur via une liaison s\u00e9rie (UART).</p>"},{"location":"materiel.html#schema-de-connexion","title":"Sch\u00e9ma de connexion","text":"Pin GPS Pin RP2040-Zero Description VCC 5V (ou VBUS) Alimentation du module GPS. GND GND Masse commune (R\u00e9f\u00e9rence \u00e9lectrique). TX GP1 (RX) Transmission des donn\u00e9es NMEA du GPS vers le RP2040. RX GP0 (TX) R\u00e9ception des commandes de configuration (Optionnel). <p>\u26a0\ufe0f Important : Le c\u00e2blage s\u00e9rie est crois\u00e9. Le TX (Transmit) du GPS doit aller sur le RX (Receive) du microcontr\u00f4leur.</p>"},{"location":"materiel.html#3-cablage-du-signal-pps","title":"3. C\u00e2blage du Signal PPS","text":"<p>C'est la connexion la plus critique pour la pr\u00e9cision temporelle de ce projet.</p> <ul> <li>Source : Pin PPS du module GPS.</li> <li>Destination : Pin GP2 du RP2040-Zero.</li> </ul> <p>Pourquoi est-ce indispensable ? Les donn\u00e9es NMEA (envoy\u00e9es via TX/RX) fournissent la date et l'heure, mais avec une latence variable (Jitter) de plusieurs centaines de millisecondes due au traitement s\u00e9rie. Le signal PPS (Pulse Per Second) est une impulsion \u00e9lectrique envoy\u00e9e physiquement au d\u00e9but exact de chaque seconde atomique. Le RP2040 utilise ce signal pour aligner l'envoi des donn\u00e9es au PC avec une pr\u00e9cision microseconde.</p>"},{"location":"materiel.html#indicateur-visuel-led-pps","title":"Indicateur Visuel (LED PPS)","text":"<p>La plupart des modules GPS (u-blox NEO-6M/8M) poss\u00e8dent une petite LED int\u00e9gr\u00e9e reli\u00e9e au signal PPS. *   Comportement : Elle reste \u00e9teinte (ou fixe selon le mod\u00e8le) tant que le GPS cherche les satellites. Elle se met \u00e0 clignoter d\u00e8s que le \"Fix\" est acquis (3D Fix). *   Caract\u00e9ristiques du signal : L'impulsion \u00e9lectrique dure exactement 100 ms par d\u00e9faut. C'est le front montant (le d\u00e9but de l'allumage) qui marque la seconde pr\u00e9cise.</p>"},{"location":"materiel.html#4-positionnement-et-perturbations","title":"4. Positionnement et Perturbations","text":"<p>Les signaux GNSS sont des ondes radio extr\u00eamement faibles (-125 dBm \u00e0 -160 dBm). L'environnement physique du montage impacte directement la qualit\u00e9 de r\u00e9ception (SNR).</p>"},{"location":"materiel.html#eviter-les-interferences-emi","title":"\u00c9viter les interf\u00e9rences (EMI)","text":"<p>L'\u00e9lectronique num\u00e9rique rapide (le processeur du RP2040, le port USB, le PC) g\u00e9n\u00e8re du \"bruit\" radiofr\u00e9quence qui peut brouiller l'antenne GPS. *   Distance : Ne collez pas l'antenne GPS directement sur le RP2040. Laissez au moins 5 \u00e0 10 cm de c\u00e2ble entre les deux. *   Bo\u00eetier : Si vous utilisez un bo\u00eetier m\u00e9tallique, l'antenne doit imp\u00e9rativement \u00eatre \u00e0 l'ext\u00e9rieur.</p>"},{"location":"materiel.html#orientation-de-lantenne","title":"Orientation de l'antenne","text":"<ul> <li>L'antenne c\u00e9ramique (le carr\u00e9 plat) doit avoir une vue d\u00e9gag\u00e9e vers le ciel.</li> <li>Elle fonctionne \u00e0 travers le plastique, le verre ou le bois, mais pas \u00e0 travers le m\u00e9tal ou la fibre de carbone.</li> <li>Pour une utilisation en int\u00e9rieur (proche d'une fen\u00eatre), la pr\u00e9cision sera moindre (Stratum 1 d\u00e9grad\u00e9) par rapport \u00e0 une antenne ext\u00e9rieure active.</li> </ul>"},{"location":"materiel.html#5-installation-du-firmware-stratum-0","title":"5. Installation du Firmware (Stratum 0)","text":"<p>Une fois le mat\u00e9riel assembl\u00e9, vous devez flasher le RP2040 pour qu'il agisse comme une interface intelligente.</p>"},{"location":"materiel.html#methode-a-fichier-pret-a-lemploi-recommande","title":"M\u00e9thode A : Fichier pr\u00eat \u00e0 l'emploi (Recommand\u00e9)","text":"<ol> <li>T\u00e9l\u00e9chargez le fichier <code>.uf2</code> depuis la section Releases du projet GitHub.</li> <li>D\u00e9branchez le RP2040 du PC.</li> <li>Maintenez le bouton BOOT du RP2040 enfonc\u00e9 et branchez-le au PC.</li> <li>Un disque <code>RPI-RP2</code> appara\u00eet dans l'explorateur de fichiers.</li> <li>Copiez le fichier <code>.uf2</code> dans ce disque.</li> <li>Le RP2040 red\u00e9marre automatiquement : votre mat\u00e9riel est pr\u00eat.</li> </ol>"},{"location":"materiel.html#methode-b-compilation-avec-arduino-ide-avance","title":"M\u00e9thode B : Compilation avec Arduino IDE (Avanc\u00e9)","text":"<p>Si vous souhaitez modifier le code ou compiler vous-m\u00eame, voici la proc\u00e9dure d\u00e9taill\u00e9e.</p>"},{"location":"materiel.html#1-prerequis-logiciels","title":"1. Pr\u00e9requis Logiciels","text":"<ul> <li>Installez l'Arduino IDE (v2.x).</li> <li>Ajoutez l'URL suivante dans Fichier &gt; Pr\u00e9f\u00e9rences &gt; URL de gestionnaire de cartes suppl\u00e9mentaires :     <code>https://github.com/earlephilhower/arduino-pico/releases/download/global/package_rp2040_index.json</code></li> <li>Dans Outils &gt; Carte &gt; Gestionnaire de cartes, installez le core \"Raspberry Pi Pico/RP2040\" (par Earle F. Philhower).</li> </ul>"},{"location":"materiel.html#2-configuration-de-lide","title":"2. Configuration de l'IDE","text":"<p>Dans le menu Outils, s\u00e9lectionnez : *   Carte : Waveshare RP2040-Zero *   USB Stack : Adafruit TinyUSB (\u26a0\ufe0f Indispensable : ne pas installer la librairie manuellement, utiliser celle du Core). *   CPU Speed : 133 MHz</p>"},{"location":"materiel.html#3-televersement","title":"3. T\u00e9l\u00e9versement","text":"<ol> <li>Ouvrez le code source (<code>.ino</code>) disponible dans le d\u00e9p\u00f4t.</li> <li>Branchez le RP2040 en maintenant le bouton BOOT enfonc\u00e9.</li> <li>Cliquez sur T\u00e9l\u00e9verser dans l'IDE.</li> </ol>"},{"location":"materiel.html#6-fonctionnement-du-firmware-pour-aller-plus-loin","title":"6. Fonctionnement du Firmware (Pour aller plus loin)","text":"<p>Le code du RP2040 ne se contente pas de relayer les donn\u00e9es. Il transforme le module GPS grand public en une horloge de r\u00e9f\u00e9rence scientifique.</p>"},{"location":"materiel.html#le-defi-technique","title":"Le d\u00e9fi technique","text":"<p>Un module GPS \u00e9met deux informations : 1.  Le signal PPS : Une impulsion \u00e9lectrique ultra-pr\u00e9cise au d\u00e9but de la seconde. 2.  La trame NMEA : Un message texte (\"Il est 12h00m00s\") envoy\u00e9 via le port s\u00e9rie.</p> <p>Le probl\u00e8me est que le message texte arrive apr\u00e8s l'impulsion (environ 100 \u00e0 500ms plus tard). Si l'ordinateur attend le message pour se caler sur le prochain PPS, il sera en retard d'une seconde.</p>"},{"location":"materiel.html#la-solution-logicielle","title":"La solution logicielle","text":"<p>Le firmware utilise un algorithme de \"Time Adder\" : 1.  Il lit la trame NMEA d\u00e8s qu'elle arrive. 2.  Il ajoute 1 seconde \u00e0 l'heure re\u00e7ue (gestion des changements de minute, heure, jour, ann\u00e9e incluse). 3.  Il stocke cette trame \"futuriste\" en m\u00e9moire. 4.  Il attend le prochain signal PPS. 5.  D\u00e8s que le PPS claque, il envoie imm\u00e9diatement la trame modifi\u00e9e via USB.</p> <p>R\u00e9sultat : Windows re\u00e7oit l'heure \"12:00:01\" \u00e0 la microseconde exacte o\u00f9 la seconde 12:00:01 commence.</p>"},{"location":"theorie.html","title":"Th\u00e9orie NTP &amp; Synchronisation","text":"<p>Comprendre les m\u00e9canismes qui permettent \u00e0 votre ordinateur d'\u00eatre \u00e0 l'heure pr\u00e9cise est essentiel pour tirer le meilleur parti de ce projet. Cette page vulgarise les concepts cl\u00e9s du protocole NTP et explique pourquoi l'ajout d'un GPS change la donne.</p>"},{"location":"theorie.html#1-quest-ce-que-ntp","title":"1. Qu'est-ce que NTP ?","text":"<p>NTP (Network Time Protocol) est l'un des plus vieux protocoles d'Internet. Son r\u00f4le est de synchroniser l'horloge des ordinateurs \u00e0 travers un r\u00e9seau \u00e0 latence variable.</p> <p>Il fonctionne sur un mod\u00e8le hi\u00e9rarchique organis\u00e9 en Strates (Stratum) :</p> <ul> <li>Stratum 0 : La source de temps physique (Horloge Atomique, GPS). Elle ne se connecte pas au r\u00e9seau.</li> <li>Stratum 1 : Un ordinateur directement reli\u00e9 \u00e0 une source Stratum 0 (par c\u00e2ble s\u00e9rie/USB). C'est le \"Serveur de Temps Primaire\". C'est le r\u00f4le de votre PC avec ce projet.</li> <li>Stratum 2 : Un ordinateur qui demande l'heure \u00e0 un serveur Stratum 1 via Internet.</li> <li>Stratum 3 : Un ordinateur qui demande l'heure \u00e0 un Stratum 2, et ainsi de suite...</li> </ul> <p>Plus le num\u00e9ro de strate est \u00e9lev\u00e9, plus la pr\u00e9cision se d\u00e9grade \u00e0 cause des d\u00e9lais de transmission.</p>"},{"location":"theorie.html#2-pourquoi-le-gps-est-il-superieur-a-internet","title":"2. Pourquoi le GPS est-il sup\u00e9rieur \u00e0 Internet ?","text":"<p>La plupart des PC se synchronisent sur Internet (Stratum 2 ou 3). Bien que suffisant pour la vie quotidienne, ce syst\u00e8me souffre de d\u00e9fauts majeurs pour l'astronomie ou la science :</p>"},{"location":"theorie.html#a-la-latence-variable-jitter","title":"A. La Latence Variable (Jitter)","text":"<p>Sur Internet, les paquets de donn\u00e9es voyagent par des chemins diff\u00e9rents et traversent des routeurs encombr\u00e9s. Le temps de trajet \"aller\" n'est jamais exactement le m\u00eame que le temps \"retour\". Cette variation impr\u00e9visible s'appelle le Jitter (Gigue). *   Internet : Jitter typique de 10 \u00e0 100 ms. *   GPS Local : Jitter quasi-nul (&lt; 0.005 ms) car la liaison est directe (c\u00e2ble USB/S\u00e9rie).</p>"},{"location":"theorie.html#b-lasymetrie","title":"B. L'Asym\u00e9trie","text":"<p>NTP suppose th\u00e9oriquement que le temps de trajet Aller est \u00e9gal au temps de trajet Retour. Or, sur une connexion ADSL, 4G ou Fibre grand public, les d\u00e9bits descendants et montants sont diff\u00e9rents, cr\u00e9ant une erreur de calcul syst\u00e9matique (Offset) impossible \u00e0 corriger logiciellement.</p>"},{"location":"theorie.html#c-la-disponibilite","title":"C. La Disponibilit\u00e9","text":"<p>Sans Internet, l'horloge de votre PC d\u00e9rive rapidement (plusieurs secondes par jour). Le GPS fonctionne partout sur Terre, sans abonnement et sans r\u00e9seau, garantissant une autonomie totale (mode \"Terrain\").</p>"},{"location":"theorie.html#3-pourquoi-utiliser-meinberg-ntp","title":"3. Pourquoi utiliser Meinberg NTP ?","text":"<p>Windows int\u00e8gre par d\u00e9faut un service de temps appel\u00e9 W32Time. Pourquoi le remplacer ?</p> <ul> <li>W32Time a \u00e9t\u00e9 con\u00e7u pour l'authentification r\u00e9seau (Kerberos), qui tol\u00e8re jusqu'\u00e0 5 minutes d'erreur. Il n'est pas con\u00e7u pour la haute pr\u00e9cision scientifique. Il corrige souvent l'heure par \"sauts\" brutaux.</li> <li>Meinberg NTP est le portage sous Windows du d\u00e9mon NTP officiel (celui utilis\u00e9 par les serveurs Linux de la NASA ou du CERN).<ul> <li>Il discipline l'horloge en douceur (acc\u00e9l\u00e8re/ralentit la fr\u00e9quence) sans sauts temporels.</li> <li>Il atteint une pr\u00e9cision de l'ordre de la microseconde.</li> <li>Il offre des outils de diagnostic avanc\u00e9s (<code>ntpq</code>) que ce logiciel utilise.</li> </ul> </li> </ul>"},{"location":"theorie.html#4-les-algorithmes-de-ntp","title":"4. Les Algorithmes de NTP","text":"<p>NTP n'est pas une simple \"mise \u00e0 l'heure\". C'est un syst\u00e8me complexe d'asservissement.</p>"},{"location":"theorie.html#lalgorithme-dintersection-marzullo","title":"L'Algorithme d'Intersection (Marzullo)","text":"<p>Si vous configurez plusieurs sources (ex: GPS + 3 serveurs Internet), NTP doit deviner qui dit la v\u00e9rit\u00e9. Il compare les intervalles de temps de chaque source et rejette les \"menteurs\" (False Tickers) qui s'\u00e9loignent trop du consensus. C'est ce qui permet d'ignorer un serveur Internet d\u00e9faillant.</p>"},{"location":"theorie.html#la-boucle-de-discipline-pllfll","title":"La Boucle de Discipline (PLL/FLL)","text":"<p>Une fois la meilleure source choisie, NTP ne se contente pas de \"reset\" l'heure. Il calcule la d\u00e9rive naturelle de votre quartz (Drift). *   Si votre PC retarde de 10ms, NTP va augmenter l\u00e9g\u00e8rement la fr\u00e9quence de l'horloge pour rattraper le retard progressivement. *   Cela garantit une \u00e9chelle de temps continue et monotone (pas de retour en arri\u00e8re possible), indispensable pour l'enregistrement de donn\u00e9es (Logs, Bases de donn\u00e9es, Courbes de lumi\u00e8re).</p>"},{"location":"theorie.html#5-glossaire-des-termes-usuels","title":"5. Glossaire des Termes Usuels","text":"<p>Voici les termes techniques que vous rencontrerez dans l'application :</p> Terme D\u00e9finition Unit\u00e9 Bonnes valeurs Offset L'\u00e9cart temporel entre votre PC et la r\u00e9f\u00e9rence absolue. C'est l'erreur \u00e0 corriger. ms Proche de 0 (ex: +/- 2ms) Jitter La stabilit\u00e9 du signal (variance de la latence). Une valeur faible indique une connexion fiable. ms &lt; 5 ms (GPS) Drift La d\u00e9rive naturelle de l'horloge mat\u00e9rielle de votre PC (impr\u00e9cision du quartz). ppm Stable (ex: 15.000 ppm) Reach Registre (octal) indiquant le succ\u00e8s des 8 derni\u00e8res tentatives de connexion. C'est l'historique de sant\u00e9. - 377 (100% de succ\u00e8s) Poll Intervalle entre deux interrogations de la source (puissance de 2). s 16s (Poll 4) \u00e0 1024s (Poll 10) PPS Pulse Per Second. Signal \u00e9lectrique envoy\u00e9 par le GPS \u00e0 chaque d\u00e9but de seconde pr\u00e9cise. C'est le \"top\" ultime de synchronisation. - -"},{"location":"backup/index.html","title":"Accueil","text":"<p>Bienvenue dans la documentation de Time Reference NMEA.</p> <p>Ce projet vous permet de transformer un simple PC Windows en un serveur de temps de haute pr\u00e9cision (Stratum 1), capable de fonctionner sans aucune connexion Internet, gr\u00e2ce \u00e0 un simple module GPS USB.</p>"},{"location":"backup/index.html#pourquoi-ce-projet","title":"Pourquoi ce projet ?","text":"<p>\u00c0 l'origine con\u00e7u pour l'astronomie amateur (occultations stellaires, courbes de lumi\u00e8re), ce syst\u00e8me garantit une horloge syst\u00e8me pr\u00e9cise \u00e0 la milliseconde pr\u00e8s, l\u00e0 o\u00f9 la synchronisation Internet (NTP classique) peut varier de plusieurs dizaines de millisecondes.</p>"},{"location":"backup/index.html#fonctionnalites-cles","title":"Fonctionnalit\u00e9s cl\u00e9s","text":"<ul> <li>Ind\u00e9pendance totale : Fonctionne hors ligne (d\u00e9serts, montagne, mer).</li> <li>Pr\u00e9cision : Utilise le signal PPS (Pulse Per Second) du GPS.</li> <li>Visualisation : Interface graphique moderne pour surveiller la qualit\u00e9 du signal et la d\u00e9rive.</li> </ul> <p>Time Reference NMEA r\u00e9sout ces probl\u00e8mes en utilisant une source mat\u00e9rielle locale : un r\u00e9cepteur GPS/GNSS.</p>"},{"location":"backup/index.html#les-avantages","title":"Les avantages","text":"<ul> <li>Pr\u00e9cision Stratum 1 : Votre PC est directement reli\u00e9 \u00e0 la source atomique des satellites GPS.</li> <li>Autonomie : Fonctionne parfaitement en mode \"Terrain\" (Offline).</li> <li>Stabilit\u00e9 : Utilisation du signal PPS (Pulse Per Second) pour une synchronisation ultra-pr\u00e9cise.</li> </ul>"},{"location":"backup/index.html#fonctionnement-global","title":"\ud83d\ude80 Fonctionnement global","text":"<p>Le syst\u00e8me repose sur la synergie entre trois composants :</p> <ol> <li>Le Mat\u00e9riel (Hardware) : Un module GPS (type u-blox) coupl\u00e9 \u00e0 un microcontr\u00f4leur (RP2040) qui convertit les signaux satellites en un flux de donn\u00e9es compr\u00e9hensible par l'ordinateur via USB.</li> <li>Le Service NTP (Meinberg) : Le standard industriel pour la gestion du temps sous Windows. Il discipline l'horloge syst\u00e8me en arri\u00e8re-plan.</li> <li>L'Application de Contr\u00f4le (Ce logiciel) : Une interface graphique moderne pour :<ul> <li>Configurer le service NTP sans ligne de commande.</li> <li>Visualiser la r\u00e9ception GPS et la qualit\u00e9 du signal.</li> <li>Calibrer automatiquement les d\u00e9lais de transmission (Fudge).</li> <li>Surveiller la sant\u00e9 de votre serveur de temps.</li> </ul> </li> </ol>"},{"location":"backup/index.html#les-grandes-etapes-de-mise-en-uvre","title":"\ud83d\udee0\ufe0f Les grandes \u00e9tapes de mise en \u0153uvre","text":"<ol> <li>Assemblage du Mat\u00e9riel : Connexion du module GPS au RP2040 et flashage du firmware \"Stratum 0\".</li> <li>Installation Logicielle : Installation du service NTP Meinberg et de l'application Time Reference NMEA.</li> <li>Calibration : Calcul de la latence (Fudge) pour aligner parfaitement l'heure GPS avec la r\u00e9alit\u00e9.</li> <li>Mise en Production : Le syst\u00e8me tourne en autonomie et maintient l'heure pr\u00e9cise.</li> </ol>"},{"location":"backup/index.html#organisation-de-la-documentation","title":"\ud83d\udcda Organisation de la documentation","text":"<ul> <li>Th\u00e9orie NTP : Comprendre les concepts de base (Stratum, Jitter, Offset).</li> <li>Guide Mat\u00e9riel : Liste des composants et instructions d'assemblage.</li> <li>Manuel Logiciel : Installation, configuration et utilisation de l'application.</li> <li>FAQ &amp; D\u00e9pannage : Solutions aux probl\u00e8mes courants.</li> </ul>"},{"location":"backup/logiciel.html","title":"Manuel du Logiciel","text":"<p>L'application Time Reference NMEA est le c\u0153ur du syst\u00e8me sous Windows. Elle configure le service de temps Windows et assure la liaison avec le mat\u00e9riel.</p> <p>!!! \"\u26a0\ufe0f Pr\u00e9requis Absolu : NTP by Meinberg\"     Ce logiciel ne fonctionne PAS avec le service de temps Windows standard (W32Time).</p> <pre><code>Pour atteindre une pr\u00e9cision de l'ordre de la milliseconde (Stratum 1), vous **DEVEZ** installer le service NTP officiel maintenu par Meinberg.\n\n1.  T\u00e9l\u00e9chargez l'installateur **\"NTP for Windows\"** sur le site officiel : [https://www.meinbergglobal.com/english/sw/ntp.htm](https://www.meinbergglobal.com/english/sw/ntp.htm)\n2.  Durant l'installation, conservez les options par d\u00e9faut.\n3.  Une fois install\u00e9, le service \"Network Time Protocol Daemon\" sera actif sur votre machine.\n\n**Pourquoi ?** W32Time est con\u00e7u pour la synchronisation de domaine (Kerberos) avec une tol\u00e9rance de 5 minutes. Meinberg NTP utilise des algorithmes complexes pour discipliner l'horloge avec une pr\u00e9cision microseconde et g\u00e9rer les sources mat\u00e9rielles comme notre GPS.\n</code></pre>"},{"location":"backup/logiciel.html#1-installation-de-lapplication","title":"1. Installation de l'Application","text":""},{"location":"backup/logiciel.html#calibration","title":"Calibration","text":"<p>Lors du premier lancement, il est crucial de calibrer le d\u00e9lai de transmission (latence USB).</p> <ol> <li>Ouvrez le menu Outils &gt; Calibration.</li> <li>Choisissez le Mode Expert (n\u00e9cessite Internet temporairement).</li> <li>Laissez l'assistant mesurer l'\u00e9cart entre le GPS et les serveurs de temps Internet.</li> <li>Appliquez le \"Fudge\" calcul\u00e9.</li> </ol>"},{"location":"backup/materiel.html","title":"Guide Mat\u00e9riel","text":"<p>Ce projet n\u00e9cessite un mat\u00e9riel sp\u00e9cifique pour capturer le signal GPS et le signal de synchronisation (PPS).</p>"},{"location":"backup/materiel.html#liste-des-composants-bom","title":"Liste des composants (BOM)","text":"<ol> <li>Microcontr\u00f4leur : Raspberry Pi Pico (RP2040) ou RP2040-Zero (plus compact).</li> <li>Module GPS : u-blox NEO-6M, NEO-8M ou \u00e9quivalent avec sortie PPS.</li> <li>C\u00e2blage : 4 fils (VCC, GND, TX, PPS).</li> </ol>"},{"location":"backup/materiel.html#schema-de-cablage","title":"Sch\u00e9ma de c\u00e2blage","text":"GPS Pin RP2040 Pin Fonction VCC 5V (ou VBUS) Alimentation du module GPS. GND GND Masse commune (R\u00e9f\u00e9rence \u00e9lectrique). TX GP1 (RX) Transmission des donn\u00e9es NMEA du GPS vers le RP2040. RX GP0 (TX) R\u00e9ception des commandes de configuration (Optionnel). <p>\u26a0\ufe0f Important : Le c\u00e2blage s\u00e9rie est crois\u00e9. Le TX (Transmit) du GPS doit aller sur le RX (Receive) du microcontr\u00f4leur.</p>"},{"location":"backup/materiel.html#3-cablage-du-signal-pps","title":"3. C\u00e2blage du Signal PPS","text":"<p>C'est la connexion la plus critique pour la pr\u00e9cision temporelle de ce projet.</p> <ul> <li>Source : Pin PPS du module GPS.</li> <li>Destination : Pin GP2 du RP2040-Zero.</li> </ul> <p>Pourquoi est-ce indispensable ? Les donn\u00e9es NMEA (envoy\u00e9es via TX/RX) fournissent la date et l'heure, mais avec une latence variable (Jitter) de plusieurs centaines de millisecondes due au traitement s\u00e9rie. Le signal PPS (Pulse Per Second) est une impulsion \u00e9lectrique envoy\u00e9e physiquement au d\u00e9but exact de chaque seconde atomique. Le RP2040 utilise ce signal pour aligner l'envoi des donn\u00e9es au PC avec une pr\u00e9cision microseconde.</p>"},{"location":"backup/materiel.html#indicateur-visuel-led-pps","title":"Indicateur Visuel (LED PPS)","text":"<p>La plupart des modules GPS (u-blox NEO-6M/8M) poss\u00e8dent une petite LED int\u00e9gr\u00e9e reli\u00e9e au signal PPS. *   Comportement : Elle reste \u00e9teinte (ou fixe selon le mod\u00e8le) tant que le GPS cherche les satellites. Elle se met \u00e0 clignoter d\u00e8s que le \"Fix\" est acquis (3D Fix). *   Caract\u00e9ristiques du signal : L'impulsion \u00e9lectrique dure exactement 100 ms par d\u00e9faut. C'est le front montant (le d\u00e9but de l'allumage) qui marque la seconde pr\u00e9cise.</p>"},{"location":"backup/materiel.html#4-positionnement-et-perturbations","title":"4. Positionnement et Perturbations","text":"<p>Les signaux GNSS sont des ondes radio extr\u00eamement faibles (-125 dBm \u00e0 -160 dBm). L'environnement physique du montage impacte directement la qualit\u00e9 de r\u00e9ception (SNR).</p>"},{"location":"backup/materiel.html#eviter-les-interferences-emi","title":"\u00c9viter les interf\u00e9rences (EMI)","text":"<p>L'\u00e9lectronique num\u00e9rique rapide (le processeur du RP2040, le port USB, le PC) g\u00e9n\u00e8re du \"bruit\" radiofr\u00e9quence qui peut brouiller l'antenne GPS. *   Distance : Ne collez pas l'antenne GPS directement sur le RP2040. Laissez au moins 5 \u00e0 10 cm de c\u00e2ble entre les deux. *   Bo\u00eetier : Si vous utilisez un bo\u00eetier m\u00e9tallique, l'antenne doit imp\u00e9rativement \u00eatre \u00e0 l'ext\u00e9rieur.</p>"},{"location":"backup/materiel.html#orientation-de-lantenne","title":"Orientation de l'antenne","text":"<ul> <li>L'antenne c\u00e9ramique (le carr\u00e9 plat) doit avoir une vue d\u00e9gag\u00e9e vers le ciel.</li> <li>Elle fonctionne \u00e0 travers le plastique, le verre ou le bois, mais pas \u00e0 travers le m\u00e9tal ou la fibre de carbone.</li> <li>Pour une utilisation en int\u00e9rieur (proche d'une fen\u00eatre), la pr\u00e9cision sera moindre (Stratum 1 d\u00e9grad\u00e9) par rapport \u00e0 une antenne ext\u00e9rieure active.</li> </ul>"},{"location":"backup/materiel.html#5-installation-du-firmware-stratum-0","title":"5. Installation du Firmware (Stratum 0)","text":"<p>Une fois le mat\u00e9riel assembl\u00e9, vous devez flasher le RP2040 pour qu'il agisse comme une interface intelligente.</p>"},{"location":"backup/materiel.html#methode-a-fichier-pret-a-lemploi-recommande","title":"M\u00e9thode A : Fichier pr\u00eat \u00e0 l'emploi (Recommand\u00e9)","text":"<ol> <li>T\u00e9l\u00e9chargez le fichier <code>.uf2</code> depuis la section Releases du projet GitHub.</li> <li>D\u00e9branchez le RP2040 du PC.</li> <li>Maintenez le bouton BOOT du RP2040 enfonc\u00e9 et branchez-le au PC.</li> <li>Un disque <code>RPI-RP2</code> appara\u00eet dans l'explorateur de fichiers.</li> <li>Copiez le fichier <code>.uf2</code> dans ce disque.</li> <li>Le RP2040 red\u00e9marre automatiquement : votre mat\u00e9riel est pr\u00eat.</li> </ol>"},{"location":"backup/materiel.html#methode-b-compilation-avec-arduino-ide-avance","title":"M\u00e9thode B : Compilation avec Arduino IDE (Avanc\u00e9)","text":"<p>Si vous souhaitez modifier le code ou compiler vous-m\u00eame, voici la proc\u00e9dure d\u00e9taill\u00e9e.</p>"},{"location":"backup/materiel.html#1-prerequis-logiciels","title":"1. Pr\u00e9requis Logiciels","text":"<ul> <li>Installez l'Arduino IDE (v2.x).</li> <li>Ajoutez l'URL suivante dans Fichier &gt; Pr\u00e9f\u00e9rences &gt; URL de gestionnaire de cartes suppl\u00e9mentaires :     <code>https://github.com/earlephilhower/arduino-pico/releases/download/global/package_rp2040_index.json</code></li> <li>Dans Outils &gt; Carte &gt; Gestionnaire de cartes, installez le core \"Raspberry Pi Pico/RP2040\" (par Earle F. Philhower).</li> </ul>"},{"location":"backup/materiel.html#2-configuration-de-lide","title":"2. Configuration de l'IDE","text":"<p>Dans le menu Outils, s\u00e9lectionnez : *   Carte : Waveshare RP2040-Zero *   USB Stack : Adafruit TinyUSB (\u26a0\ufe0f Indispensable : ne pas installer la librairie manuellement, utiliser celle du Core). *   CPU Speed : 133 MHz</p>"},{"location":"backup/materiel.html#3-televersement","title":"3. T\u00e9l\u00e9versement","text":"<ol> <li>Ouvrez le code source (<code>.ino</code>) disponible dans le d\u00e9p\u00f4t.</li> <li>Branchez le RP2040 en maintenant le bouton BOOT enfonc\u00e9.</li> <li>Cliquez sur T\u00e9l\u00e9verser dans l'IDE.</li> </ol>"},{"location":"backup/materiel.html#6-fonctionnement-du-firmware-pour-aller-plus-loin","title":"6. Fonctionnement du Firmware (Pour aller plus loin)","text":"<p>Le code du RP2040 ne se contente pas de relayer les donn\u00e9es. Il transforme le module GPS grand public en une horloge de r\u00e9f\u00e9rence scientifique.</p>"},{"location":"backup/materiel.html#le-defi-technique","title":"Le d\u00e9fi technique","text":"<p>Un module GPS \u00e9met deux informations : 1.  Le signal PPS : Une impulsion \u00e9lectrique ultra-pr\u00e9cise au d\u00e9but de la seconde. 2.  La trame NMEA : Un message texte (\"Il est 12h00m00s\") envoy\u00e9 via le port s\u00e9rie.</p> <p>Le probl\u00e8me est que le message texte arrive apr\u00e8s l'impulsion (environ 100 \u00e0 500ms plus tard). Si l'ordinateur attend le message pour se caler sur le prochain PPS, il sera en retard d'une seconde.</p>"},{"location":"backup/materiel.html#la-solution-logicielle","title":"La solution logicielle","text":"<p>Le firmware utilise un algorithme de \"Time Adder\" : 1.  Il lit la trame NMEA d\u00e8s qu'elle arrive. 2.  Il ajoute 1 seconde \u00e0 l'heure re\u00e7ue (gestion des changements de minute, heure, jour, ann\u00e9e incluse). 3.  Il stocke cette trame \"futuriste\" en m\u00e9moire. 4.  Il attend le prochain signal PPS. 5.  D\u00e8s que le PPS claque, il envoie imm\u00e9diatement la trame modifi\u00e9e via USB.</p> <p>R\u00e9sultat : Windows re\u00e7oit l'heure \"12:00:01\" \u00e0 la microseconde exacte o\u00f9 la seconde 12:00:01 commence.</p>"},{"location":"backup/theorie.html","title":"Comprendre la synchronisation NTP","text":"<p>Pour utiliser ce logiciel efficacement, quelques notions de base sont utiles.</p>"},{"location":"backup/theorie.html#le-stratum","title":"Le Stratum","text":"<p>C'est la distance qui vous s\u00e9pare de la source de temps \"parfaite\" (Horloge Atomique). *   Stratum 0 : L'horloge atomique elle-m\u00eame (ou le satellite GPS). *   Stratum 1 : Un ordinateur directement reli\u00e9 \u00e0 une source Stratum 0 (Votre PC avec ce projet). *   Stratum 2 : Un ordinateur qui se synchronise via Internet sur un Stratum 1.</p>"},{"location":"backup/theorie.html#le-jitter-gigue","title":"Le Jitter (Gigue)","text":"<p>C'est la stabilit\u00e9 de votre connexion. Imaginez un m\u00e9tronome : s'il bat la mesure de fa\u00e7on irr\u00e9guli\u00e8re, le \"Jitter\" est \u00e9lev\u00e9. Plus ce chiffre est bas (proche de 0 ms), plus votre horloge est stable.</p>"},{"location":"backup/theorie.html#loffset-decalage","title":"L'Offset (D\u00e9calage)","text":"<p>C'est la diff\u00e9rence de temps exacte entre votre PC et la r\u00e9f\u00e9rence GPS. *   Positif : Votre PC est en avance. *   N\u00e9gatif : Votre PC est en retard.</p> <ul> <li>Stratum 0 : La source de temps physique (Horloge Atomique, GPS). Elle ne se connecte pas au r\u00e9seau.</li> <li>Stratum 1 : Un ordinateur directement reli\u00e9 \u00e0 une source Stratum 0 (par c\u00e2ble s\u00e9rie/USB). C'est le \"Serveur de Temps Primaire\". C'est le r\u00f4le de votre PC avec ce projet.</li> <li>Stratum 2 : Un ordinateur qui demande l'heure \u00e0 un serveur Stratum 1 via Internet.</li> <li>Stratum 3 : Un ordinateur qui demande l'heure \u00e0 un Stratum 2, et ainsi de suite...</li> </ul> <p>Plus le num\u00e9ro de strate est \u00e9lev\u00e9, plus la pr\u00e9cision se d\u00e9grade \u00e0 cause des d\u00e9lais de transmission.</p>"},{"location":"backup/theorie.html#2-pourquoi-le-gps-est-il-superieur-a-internet","title":"2. Pourquoi le GPS est-il sup\u00e9rieur \u00e0 Internet ?","text":"<p>La plupart des PC se synchronisent sur Internet (Stratum 2 ou 3). Bien que suffisant pour la vie quotidienne, ce syst\u00e8me souffre de d\u00e9fauts majeurs pour l'astronomie ou la science :</p>"},{"location":"backup/theorie.html#a-la-latence-variable-jitter","title":"A. La Latence Variable (Jitter)","text":"<p>Sur Internet, les paquets de donn\u00e9es voyagent par des chemins diff\u00e9rents et traversent des routeurs encombr\u00e9s. Le temps de trajet \"aller\" n'est jamais exactement le m\u00eame que le temps \"retour\". Cette variation impr\u00e9visible s'appelle le Jitter (Gigue). *   Internet : Jitter typique de 10 \u00e0 100 ms. *   GPS Local : Jitter quasi-nul (&lt; 0.005 ms) car la liaison est directe (c\u00e2ble USB/S\u00e9rie).</p>"},{"location":"backup/theorie.html#b-lasymetrie","title":"B. L'Asym\u00e9trie","text":"<p>NTP suppose th\u00e9oriquement que le temps de trajet Aller est \u00e9gal au temps de trajet Retour. Or, sur une connexion ADSL, 4G ou Fibre grand public, les d\u00e9bits descendants et montants sont diff\u00e9rents, cr\u00e9ant une erreur de calcul syst\u00e9matique (Offset) impossible \u00e0 corriger logiciellement.</p>"},{"location":"backup/theorie.html#c-la-disponibilite","title":"C. La Disponibilit\u00e9","text":"<p>Sans Internet, l'horloge de votre PC d\u00e9rive rapidement (plusieurs secondes par jour). Le GPS fonctionne partout sur Terre, sans abonnement et sans r\u00e9seau, garantissant une autonomie totale (mode \"Terrain\").</p>"},{"location":"backup/theorie.html#3-pourquoi-utiliser-meinberg-ntp","title":"3. Pourquoi utiliser Meinberg NTP ?","text":"<p>Windows int\u00e8gre par d\u00e9faut un service de temps appel\u00e9 W32Time. Pourquoi le remplacer ?</p> <ul> <li>W32Time a \u00e9t\u00e9 con\u00e7u pour l'authentification r\u00e9seau (Kerberos), qui tol\u00e8re jusqu'\u00e0 5 minutes d'erreur. Il n'est pas con\u00e7u pour la haute pr\u00e9cision scientifique. Il corrige souvent l'heure par \"sauts\" brutaux.</li> <li>Meinberg NTP est le portage sous Windows du d\u00e9mon NTP officiel (celui utilis\u00e9 par les serveurs Linux de la NASA ou du CERN).<ul> <li>Il discipline l'horloge en douceur (acc\u00e9l\u00e8re/ralentit la fr\u00e9quence) sans sauts temporels.</li> <li>Il atteint une pr\u00e9cision de l'ordre de la microseconde.</li> <li>Il offre des outils de diagnostic avanc\u00e9s (<code>ntpq</code>) que ce logiciel utilise.</li> </ul> </li> </ul>"},{"location":"backup/theorie.html#4-les-algorithmes-de-ntp","title":"4. Les Algorithmes de NTP","text":"<p>NTP n'est pas une simple \"mise \u00e0 l'heure\". C'est un syst\u00e8me complexe d'asservissement.</p>"},{"location":"backup/theorie.html#lalgorithme-dintersection-marzullo","title":"L'Algorithme d'Intersection (Marzullo)","text":"<p>Si vous configurez plusieurs sources (ex: GPS + 3 serveurs Internet), NTP doit deviner qui dit la v\u00e9rit\u00e9. Il compare les intervalles de temps de chaque source et rejette les \"menteurs\" (False Tickers) qui s'\u00e9loignent trop du consensus. C'est ce qui permet d'ignorer un serveur Internet d\u00e9faillant.</p>"},{"location":"backup/theorie.html#la-boucle-de-discipline-pllfll","title":"La Boucle de Discipline (PLL/FLL)","text":"<p>Une fois la meilleure source choisie, NTP ne se contente pas de \"reset\" l'heure. Il calcule la d\u00e9rive naturelle de votre quartz (Drift). *   Si votre PC retarde de 10ms, NTP va augmenter l\u00e9g\u00e8rement la fr\u00e9quence de l'horloge pour rattraper le retard progressivement. *   Cela garantit une \u00e9chelle de temps continue et monotone (pas de retour en arri\u00e8re possible), indispensable pour l'enregistrement de donn\u00e9es (Logs, Bases de donn\u00e9es, Courbes de lumi\u00e8re).</p>"},{"location":"backup/theorie.html#5-glossaire-des-termes-usuels","title":"5. Glossaire des Termes Usuels","text":"<p>Voici les termes techniques que vous rencontrerez dans l'application :</p> Terme D\u00e9finition Unit\u00e9 Bonnes valeurs Offset L'\u00e9cart temporel entre votre PC et la r\u00e9f\u00e9rence absolue. C'est l'erreur \u00e0 corriger. ms Proche de 0 (ex: +/- 2ms) Jitter La stabilit\u00e9 du signal (variance de la latence). Une valeur faible indique une connexion fiable. ms &lt; 5 ms (GPS) Drift La d\u00e9rive naturelle de l'horloge mat\u00e9rielle de votre PC (impr\u00e9cision du quartz). ppm Stable (ex: 15.000 ppm) Reach Registre (octal) indiquant le succ\u00e8s des 8 derni\u00e8res tentatives de connexion. C'est l'historique de sant\u00e9. - 377 (100% de succ\u00e8s) Poll Intervalle entre deux interrogations de la source (puissance de 2). s 16s (Poll 4) \u00e0 1024s (Poll 10) PPS Pulse Per Second. Signal \u00e9lectrique envoy\u00e9 par le GPS \u00e0 chaque d\u00e9but de seconde pr\u00e9cise. C'est le \"top\" ultime de synchronisation. - -"}]}